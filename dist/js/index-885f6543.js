var T=Object.defineProperty;var L=(t,e,s)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var h=(t,e,s)=>(L(t,typeof e!="symbol"?e+"":e,s),s);import{o as c,s as P,e as v}from"./index-242f51d6.js";import{t as D}from"./config-4240d15d.js";import{z as w}from"./element-plus-5b013558.js";import{m as O}from"./markdown-transform-html-ab2f9e2b.js";const I=(t,e)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,m)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(m.bind(null,new Error("Unknown variable dynamic import: "+e)))})};async function F(t){return(await I(Object.assign({"../../templates/modules/10front_end/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-60940168.css"],import.meta.url),"../../templates/modules/11fresh/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-007e3c6b.css"],import.meta.url),"../../templates/modules/12internet_social/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-c3bcfd4a.css"],import.meta.url),"../../templates/modules/13geek/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-ad47814e.css"],import.meta.url),"../../templates/modules/14heading/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-b5e986ef.css"],import.meta.url),"../../templates/modules/15simple_versatile/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-20e95fcc.css"],import.meta.url),"../../templates/modules/16prominent_content/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-c01b572c.css"],import.meta.url),"../../templates/modules/17business/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-bb6f0693.css"],import.meta.url),"../../templates/modules/18art/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-fd08927f.css"],import.meta.url),"../../templates/modules/1internet_avatar/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-d9891c7d.css"],import.meta.url),"../../templates/modules/2concise/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-709b23b8.css"],import.meta.url),"../../templates/modules/3operation/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-18429e39.css"],import.meta.url),"../../templates/modules/4internet/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-1519b6bd.css"],import.meta.url),"../../templates/modules/5graduation_reexam/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-fca72c68.css"],import.meta.url),"../../templates/modules/6operation_avatar/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-37492530.css"],import.meta.url),"../../templates/modules/7simple_avatar/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-2709f35e.css"],import.meta.url),"../../templates/modules/8general/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-ad2750e2.css"],import.meta.url),"../../templates/modules/9business/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-dd290dd3.css"],import.meta.url),"../../templates/modules/create/style.scss":()=>c(()=>Promise.resolve({}),["../css/style-a6288e2d.css"],import.meta.url)}),`../../templates/modules/${t}/style.scss`)).default}const $=t=>{for(const e of D)if(t===e.type)return e.content;return""},q={h1:{max:30,min:-15,top:0,tag:"",optimal:0},h2:{max:30,min:-15,top:0,tag:"",optimal:0},h3:{max:20,min:-15,top:0,tag:"",optimal:0},h4:{max:20,min:-15,top:0,tag:"",optimal:0},h5:{max:20,min:-15,top:0,tag:"",optimal:0},h6:{max:20,min:-15,top:0,tag:"",optimal:0},li:{max:10,min:-15,top:0,tag:"",optimal:0},p:{max:10,min:-15,top:0,tag:"",optimal:0}},A=(t,e)=>t.optimal>e.optimal,g=(t,e,s)=>[t[e],t[s]]=[t[s],t[e]];class z{constructor(e){h(this,"container",[]);h(this,"cmp",A);this.cmp=e}push(e){const{container:s,cmp:o}=this;s.push(e);let m=s.length-1;for(;m;){const a=Math.floor((m-1)/2);if(!o(s[m],s[a]))return;g(s,m,a),m=a}}pop(){const{container:e,cmp:s}=this;if(!e.length)return null;g(e,0,e.length-1);const o=e.pop(),m=e.length;let a=0,n=a*2+1;for(;n<m;){const i=a*2+2;if(i<m&&s(e[i],e[n])&&(n=i),!s(e[n],e[a]))break;g(e,n,a),a=n,n=a*2+1}return o}top(){return this.container.length?this.container[0]:null}isEmpty(){return this.container.length===0}}function j(){return document.createElement("style")}function G(){return document.createElement("div")}function b(t){return document.head.querySelector(`style[${t}]`)}function U(t){var e;(e=b(t))==null||e.remove()}function R(t){return t.match(/\d+/g).map(s=>parseInt(s))}function B(t,e){const{showLoading:s,closeLoading:o}=C();s("正在导出PDF 请耐心等待...");const m=getComputedStyle(e).getPropertyValue("background-color"),[a,n,i]=R(m);html2canvas(e,{allowTaint:!1,logging:!1,useCORS:!0,scale:4,backgroundColor:m}).then(l=>{var y;const r=new jspdf.jsPDF("p","mm","a4");r.setFillColor(a,n,i),r.rect(0,0,r.internal.pageSize.width,r.internal.pageSize.height,"F");const u=l.getContext("2d"),_=210,E=297,f=Math.floor(E*l.width/_);let p=0;for(;p<l.height;){const d=document.createElement("canvas");d.width=l.width,d.height=Math.min(f,l.height-p),(y=d.getContext("2d"))==null||y.putImageData(u==null?void 0:u.getImageData(0,p,l.width,Math.min(f,l.height-p)),0,0),r.addImage(d.toDataURL("image/jpeg",1),"JPEG",0,0,_,Math.min(E,_*d.height/d.width)),p+=f,l.height-p>1&&(r.addPage(),r.setFillColor(a,n,i),r.rect(0,0,r.internal.pageSize.width,r.internal.pageSize.height,"F"))}r.save(`${t}.pdf`),P("PDF导出成功")}).catch(l=>{v("导出失败, "+l)}).finally(o)}function C(){let t=null;function e(o){t=w.service({lock:!0,text:o,background:"rgba(0, 0, 0, 0.7)"})}function s(){t&&t.close()}return{showLoading:e,closeLoading:s}}function J(t=0){const e=document.documentElement||document.body;let s=Math.abs(e.scrollTop-t)/20,o=0,m=-1;const a=s;function n(){o=e.scrollTop;const i=o-t;m==o||i==0||(m=o,window.requestAnimationFrame(function(){if(s=i>0?a:-a,o-=s,Math.abs(i)<a){e.scrollTop=t;return}e.scrollTop=o,Math.abs(i)>0&&n()}))}n()}function X(t){let e=t==null?void 0:t.offsetTop,s=t==null?void 0:t.offsetParent;for(;s!==null;)e+=s.offsetTop,s=s.offsetParent;return e}function V({node:t,latest:e,uid:s}){var m,a;let o="";if(t.nodeType===Node.ELEMENT_NODE){const n=t.classList,i=t.tagName.toLowerCase();n.contains("flex-layout")?o+=`
::: start
`:n.contains("iconfont")?o+=`icon:${n[1].slice(5)} `:n.contains("head-layout")?o+=`
::: headStart
`:n.contains("main-layout")?o+=`
::: mainStart
`:i==="a"?o+="[":["b","strong"].includes(i)?o+="**":i[0]==="h"?o+="#".repeat(+i[1])+" ":i==="li"?o+=`${((m=t.parentElement)==null?void 0:m.tagName.toLowerCase())=="ul"?"- ":s+". "}`:["td","th"].includes(i)?o+="| ":i==="code"?o+="`":i==="i"&&n[0]!="iconfont"?o+="*":i==="br"&&(o+="&nbsp;");const l=t.childNodes;for(let r=0;r<l.length;r++){const u=l[r].nodeType==l[r].ELEMENT_NODE&&((a=l[r].parentElement)==null?void 0:a.tagName.toLowerCase())=="ol";o+=V({node:l[r],latest:r===l.length-1,uid:u?++s:0})}if(n.contains("flex-layout"))o+="::: end";else if(n.contains("head-layout"))o+="::: headEnd";else if(n.contains("main-layout"))o+="::: mainEnd";else if(n.contains("flex-layout-item")&&!e)o+=`
:::`;else if(i=="a")o+=`](${t.getAttribute("href")})`;else if(["b","strong"].includes(i))o+="**";else if(i=="img"){const r=t.alt,u=r==null?void 0:r.includes("个人头像");o+=`![${u?"个人头像":r}](${t.src})`}else i==="tr"?o+="|":["th","td"].includes(i)?o+=" ":i==="code"?o+="`":i==="i"&&n[0]!="iconfont"&&(o+="*");["b","span","strong","a","i","td","th","thead","code","ul","ol"].includes(i)||(o+=`
`)}else{const n=t.textContent||"";o+=n}return o}function M(t){var i;const e=document.createElement("div");e.innerHTML=t;const s=e.querySelector(".main-layout"),o=s||e,m=Array.from(o.childNodes);let a=null,n=document.createElement("div");for(const l of m)l.nodeType!==Node.TEXT_NODE&&(l.tagName.toLocaleLowerCase()==="h2"?(a&&n.appendChild(a),a=document.createElement("div"),a.className="resume-module",a.appendChild(l)):a?a.appendChild(l):n.appendChild(l));return a&&n.appendChild(a),s&&((i=o.parentNode)==null||i.replaceChild(n,o),n.className="main-layout",n=e),n}function K(t){return M(O(t))}export{z as H,j as a,G as b,X as c,K as d,B as e,V as f,$ as g,F as i,q as o,b as q,U as r,J as s};
