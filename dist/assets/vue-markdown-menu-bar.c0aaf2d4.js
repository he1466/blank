import{r as d,f as T,G as y,C as M,o as r,c as u,a as i,U as h,J as B,u as f,n as g,as as x,M as I,a6 as b,Q as k,S as w}from"./@vue.f13b1cd7.js";const p=(t,e)=>{const n=t.__vccOpts||t;for(const[l,o]of e)n[l]=o;return n};function C(t=0){const e=document.documentElement||document.body;let n=Math.abs(e.scrollTop-t)/20,l=0,o=n,s=-1;function c(){l=e.scrollTop;let a=l-t;s==l||a==0||(s=l,window.requestAnimationFrame(function(){if(n=a>0?o:-o,l-=n,Math.abs(a)<o){e.scrollTop=t;return}e.scrollTop=l,Math.abs(a)>0&&c()}))}c()}function E(t,e){let n=null;return function(...l){const o=this;clearTimeout(n),n=setTimeout(()=>{t.apply(o,l)},e)}}function S(){const t=d(0),e=E(function(){t.value=(document.documentElement||document.body).scrollTop},50);return T(()=>{document.addEventListener("scroll",e)}),y(()=>{document.removeEventListener("scroll",e)}),t}const D=["level"],A=M({__name:"MenuBarItem",props:{MenuItem:null},setup(t){const e=S();return(n,l)=>(r(),u("div",{class:"o_menu-bar_title",level:t.MenuItem.level},[i("span",{class:B({o_active:f(e)>=t.MenuItem.offset&&f(e)<t.MenuItem.offsetMax})},h(t.MenuItem.title),3)],8,D))}});const G=p(A,[["__scopeId","data-v-ec688799"]]);function L(t){const e=d([]);return g(()=>{e.value=_(t)}),x(()=>{e.value=_(t)}),e}function _(t){const e=[];return v(e,document.querySelector(t)),F(e),e}function v(t,e,n){const l=e==null?void 0:e.tagName.toLowerCase();if((e==null?void 0:e.nodeType)==1&&l[0]==="h"){const o={offsetMax:0};o.title=e.textContent+"",o.level=+l[1],o.offset=P(e),o.target=e,t.push(o)}else{if(!e||e.nodeType!=1)return;let o=Array.from(e.children);for(let s of o)v(t,s)}}function P(t){let e=t==null?void 0:t.offsetTop,n=t.offsetParent;for(;n!==null;)e+=n.offsetTop,n=n.offsetParent;return e}function F(t){for(let e=0,n=t.length;e<n;e++)e+1<n?t[e].offsetMax=t[e+1].offset:t[e].offsetMax=1/0}const N={class:"o_menu_title"},V={class:"o_menu_bar_container"},$=M({__name:"MenuBar",props:{body:null,width:null,menuTitle:null},emits:["MenuBarClick"],setup(t,{emit:e}){const{width:n,body:l}=t,o=L(l);function s(c){C(c.offset),e("MenuBarClick",c)}return(c,a)=>(r(),u("div",{class:"o_navigator_menu",style:w({width:typeof t.width=="number"?t.width+"px":t.width})},[i("h3",N,h(t.menuTitle||"\u76EE\u5F55"),1),i("div",V,[(r(!0),u(I,null,b(f(o),m=>(r(),k(G,{MenuItem:m,onClick:q=>s(m)},null,8,["MenuItem","onClick"]))),256))])],4))}});const O=p($,[["__scopeId","data-v-f9a271cd"]]);export{O as V,p as _};
