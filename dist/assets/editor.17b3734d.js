import{l as Ne,n as Re,o as Ie,p as Le,t as je,m as de,u as Ue,v as He,w as qe,x as ze,y as We,h as Ke,i as Ge,z as Ye,A as Qe}from"./element-plus.ee89351e.js";import{E as O,r as h,o as m,c as C,a as r,F as b,a7 as z,M as Je,W as T,P as p,u as s,S as A,R as f,X as R,ac as Xe,V as W,h as me,i as M,at as J,au as X,av as S,_ as Ze,al as eo,ab as oo,U as K,G as no,K as to,w as le,a5 as uo,n as ao}from"./@vue.2fd64882.js";import{s as Z,_ as V,h as ue,j as lo,g as _e,r as io,w as ne,a as pe,k as fe,l as so,e as co}from"./index.f566ca83.js";import{_ as ro}from"./wechat.033e5117.js";import{T as ge}from"./vue-codemirror.22549a98.js";import{F as ie,G as ve,H as se}from"./@codemirror.cc85f298.js";import{q as k,a as I,r as Fe,b as ce,o as mo,H as _o,g as po,i as fo,d as go,e as vo}from"./index.83bdad31.js";import{g as Fo,a as Co}from"./config.404183d2.js";import{m as te}from"./markdown-transform-html.cf475a9b.js";import{b as ho,u as Eo}from"./vue-router.ab991b3b.js";import{h as yo}from"./@vueuse.c6387afd.js";import"./lodash-es.32a32d0b.js";import"./async-validator.fb49d0f5.js";import"./@element-plus.f8f1d436.js";import"./dayjs.f53c2448.js";import"./aos.e37f4dc9.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./jspdf.0b42b4d1.js";import"./@babel.e46629ed.js";import"./fflate.fca59393.js";import"./pinia.ea4e5e56.js";import"./picture-verification-code.e81ffd11.js";import"./axios.05d3747b.js";import"./nprogress.8e3ae131.js";import"./codemirror.977bb83c.js";import"./@lezer.911c2eab.js";import"./crelt.67277586.js";import"./style-mod.7caeda7c.js";import"./w3c-keyname.30cf5eb3.js";import"./html2canvas.4d0ab5af.js";const wo=[{name:"\u5BFC\u5165/\u5BFC\u51FA",multiple:!0,children:["\u5BFC\u5165MD","\u5BFC\u51FAMD"]},{name:"\u7B80\u5386\u6A21\u677F",path:"/theme",tooltip:!1},{name:"\u5185\u7F6E\u56FE\u6807",tooltip:!0},{name:"\u8BED\u6CD5\u52A9\u624B",path:"/syntax/helper",tooltip:!1}],Do="3737803",Ao="markdown-resume",bo="iconfont",ko="icon-",$o="",Bo=[{icon_id:"579832",name:"DIY",font_class:"diy",unicode:"e632",unicode_decimal:58930},{icon_id:"687392",name:"\u8FD4\u56DE",font_class:"back",unicode:"e6ff",unicode_decimal:59135},{icon_id:"4251775",name:"\u8BC1\u4EF6",font_class:"zhengjian",unicode:"e655",unicode_decimal:58965},{icon_id:"6194670",name:"\u7F16\u8F91\u8272\u5757",font_class:"write",unicode:"ec7c",unicode_decimal:60540},{icon_id:"6337469",name:"\u5B57\u4F53\u6807\u9898",font_class:"title",unicode:"ec84",unicode_decimal:60548},{icon_id:"7008994",name:"refresh",font_class:"refresh",unicode:"e71e",unicode_decimal:59166},{icon_id:"10487549",name:"\u8C03\u8282",font_class:"adjust",unicode:"e695",unicode_decimal:59029},{icon_id:"11121489",name:"\u6A21\u5757",font_class:"module",unicode:"e63b",unicode_decimal:58939},{icon_id:"2682283",name:"level-3",font_class:"level-3",unicode:"e61e",unicode_decimal:58910},{icon_id:"2682284",name:"level-6",font_class:"level-6",unicode:"e61f",unicode_decimal:58911},{icon_id:"4766912",name:"qrcode",font_class:"qrcode",unicode:"e7dd",unicode_decimal:59357},{icon_id:"4767091",name:"code",font_class:"code",unicode:"e7fc",unicode_decimal:59388},{icon_id:"7008906",name:"collection_fill",font_class:"collection_fill",unicode:"e6ea",unicode_decimal:59114},{icon_id:"9096739",name:"alipay",font_class:"alipay",unicode:"e668",unicode_decimal:58984},{icon_id:"109745",name:"font",font_class:"font",unicode:"e621",unicode_decimal:58913},{icon_id:"1134189",name:"money_bag_fill",font_class:"moneybagfill",unicode:"e7ce",unicode_decimal:59342},{icon_id:"2682279",name:"level-2",font_class:"level-2",unicode:"e61a",unicode_decimal:58906},{icon_id:"2682280",name:"level-4",font_class:"level-4",unicode:"e61b",unicode_decimal:58907},{icon_id:"2682281",name:"level-5",font_class:"level-5",unicode:"e61c",unicode_decimal:58908},{icon_id:"2682282",name:"level-1",font_class:"level-1",unicode:"e61d",unicode_decimal:58909},{icon_id:"4766965",name:"link",font_class:"link",unicode:"e7e2",unicode_decimal:59362},{icon_id:"4766917",name:"image",font_class:"image",unicode:"e7de",unicode_decimal:59358},{icon_id:"29928",name:"edit",font_class:"edit",unicode:"e649",unicode_decimal:58953},{icon_id:"29929",name:"emoji",font_class:"emoji",unicode:"e64a",unicode_decimal:58954},{icon_id:"30415",name:"comment_fill",font_class:"commentfill",unicode:"e666",unicode_decimal:58982},{icon_id:"30416",name:"comment",font_class:"comment",unicode:"e667",unicode_decimal:58983},{icon_id:"32477",name:"delete",font_class:"delete",unicode:"e6b5",unicode_decimal:59061},{icon_id:"61143",name:"share",font_class:"share",unicode:"e6f3",unicode_decimal:59123},{icon_id:"159929",name:"share",font_class:"fenxiang",unicode:"e601",unicode_decimal:58881},{icon_id:"4766692",name:"like",font_class:"like",unicode:"e7c8",unicode_decimal:59336},{icon_id:"5428495",name:"reply",font_class:"reply",unicode:"e705",unicode_decimal:59141},{icon_id:"7008955",name:"like_fill",font_class:"like_fill",unicode:"e707",unicode_decimal:59143},{icon_id:"7008956",name:"like",font_class:"like1",unicode:"e708",unicode_decimal:59144},{icon_id:"9785644",name:"moon",font_class:"moon",unicode:"e654",unicode_decimal:58964},{icon_id:"11487988",name:"browse",font_class:"browse",unicode:"e745",unicode_decimal:59205},{icon_id:"11488058",name:"hot",font_class:"hot",unicode:"e753",unicode_decimal:59219},{icon_id:"11686795",name:"message",font_class:"message1",unicode:"e675",unicode_decimal:58997},{icon_id:"21096817",name:"shine",font_class:"shine",unicode:"ecda",unicode_decimal:60634},{icon_id:"1176853",name:"card",font_class:"card",unicode:"e6b4",unicode_decimal:59060},{icon_id:"1293134",name:"head",font_class:"head",unicode:"e609",unicode_decimal:58889},{icon_id:"1410620",name:"work",font_class:"work",unicode:"e6fc",unicode_decimal:59132},{icon_id:"3153821",name:"practice",font_class:"practice",unicode:"e60b",unicode_decimal:58891},{icon_id:"7207749",name:"organization",font_class:"organization",unicode:"e60f",unicode_decimal:58895},{icon_id:"7239576",name:"trophy",font_class:"trophy",unicode:"e70d",unicode_decimal:59149},{icon_id:"18125947",name:"book",font_class:"book",unicode:"e862",unicode_decimal:59490},{icon_id:"18592431",name:"city",font_class:"city",unicode:"e687",unicode_decimal:59015},{icon_id:"160001",name:"home",font_class:"home",unicode:"e600",unicode_decimal:58880},{icon_id:"386278",name:"baidu",font_class:"baidu",unicode:"e6b6",unicode_decimal:59062},{icon_id:"4936984",name:"QQ",font_class:"QQ",unicode:"e882",unicode_decimal:59522},{icon_id:"9848172",name:"tencent",font_class:"tencent",unicode:"e620",unicode_decimal:58912},{icon_id:"10506955",name:"wechat",font_class:"wechat",unicode:"e619",unicode_decimal:58905},{icon_id:"10678426",name:"message",font_class:"message",unicode:"e6df",unicode_decimal:59103},{icon_id:"11488144",name:"template",font_class:"template",unicode:"e768",unicode_decimal:59240},{icon_id:"13743903",name:"bytedance",font_class:"bytedance",unicode:"e682",unicode_decimal:59010},{icon_id:"21928403",name:"Exit",font_class:"Exit",unicode:"e60c",unicode_decimal:58892},{icon_id:"22273028",name:"douyin",font_class:"douyin",unicode:"e673",unicode_decimal:58995},{icon_id:"22756072",name:"APPLICATION",font_class:"APPLICATION",unicode:"e9f9",unicode_decimal:59897},{icon_id:"29391691",name:"alibaba",font_class:"alibaba",unicode:"e94e",unicode_decimal:59726},{icon_id:"1206932",name:"problem",font_class:"problem",unicode:"e679",unicode_decimal:59001},{icon_id:"1467383",name:"phone",font_class:"phone",unicode:"e69e",unicode_decimal:59038},{icon_id:"4765975",name:"project",font_class:"project",unicode:"e798",unicode_decimal:59288},{icon_id:"4766293",name:"user",font_class:"user",unicode:"e7ae",unicode_decimal:59310},{icon_id:"5821109",name:"technology",font_class:"technology",unicode:"e66b",unicode_decimal:58987},{icon_id:"7206120",name:"Profile",font_class:"profile",unicode:"e643",unicode_decimal:58947},{icon_id:"7239590",name:"yuque",font_class:"yuque",unicode:"e713",unicode_decimal:59155},{icon_id:"11488305",name:"product",font_class:"product",unicode:"e788",unicode_decimal:59272},{icon_id:"13743932",name:"gitee-fill-round",font_class:"gitee",unicode:"e686",unicode_decimal:59014},{icon_id:"18986691",name:"GitHub",font_class:"github",unicode:"e8c6",unicode_decimal:59590},{icon_id:"490590",name:"school",font_class:"school",unicode:"eced",unicode_decimal:60653},{icon_id:"829865",name:"csdn",font_class:"csdn",unicode:"e60a",unicode_decimal:58890},{icon_id:"1444437",name:"email",font_class:"email",unicode:"e712",unicode_decimal:59154}],oe={id:Do,name:Ao,font_family:bo,css_prefix_text:ko,description:$o,glyphs:Bo},So={class:"render-modal"},xo={class:"render-modal-icons"},Mo=["onClick"],To=O({__name:"renderIcons",setup(n){const e=u=>{Z("\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u7C98\u8D34"),navigator.clipboard.writeText(`icon:${u.font_class} `)},o=h(oe.glyphs.slice(0,20)),t=function(u){o.value=oe.glyphs.slice((u-1)*20,u*20)};return(u,l)=>{const i=Ne;return m(),C("div",So,[r("div",xo,[(m(!0),C(b,null,z(o.value,(c,a)=>(m(),C("i",{key:a,class:Je(["iconfont",`icon-${c.font_class}`]),onClick:F=>e(c)},[r("p",null,T(c.font_class),1)],10,Mo))),128))]),p(i,{"page-size":20,background:"",layout:"prev, pager, next",total:s(oe).glyphs.length,class:"mt-4 page",onCurrentChange:t},null,8,["total"])])}}});const Oo=V(To,[["__scopeId","data-v-87b28244"]]),Vo={class:"nav"},Po={class:"el-dropdown-link"},No={key:0,for:"import_md"},Ro=O({__name:"nav",emits:["export-md","import-md"],setup(n){const e=h(!1);return(o,t)=>{const u=Re,l=Ie,i=Le,c=Xe("router-link");return m(),C(b,null,[r("ul",Vo,[(m(!0),C(b,null,z(s(wo),(a,F)=>(m(),C("li",{key:F},[a.children?(m(),A(i,{key:0,class:"el-dropdown"},{dropdown:f(()=>[p(l,null,{default:f(()=>[(m(!0),C(b,null,z(a.children,(d,v)=>(m(),A(u,{key:v},{default:f(()=>[d.startsWith("\u5BFC\u5165")?(m(),C("label",No,[W(" \u5BFC\u5165MD "),r("input",{accept:".md",id:"import_md",type:"file",onChange:t[0]||(t[0]=E=>o.$emit("import-md",E))},null,32)])):(m(),C("span",{key:1,onClick:t[1]||(t[1]=E=>o.$emit("export-md"))},T(d),1))]),_:2},1024))),128))]),_:2},1024)]),default:f(()=>[r("div",Po,T(a.name),1)]),_:2},1024)):(m(),C(b,{key:1},[a.tooltip?(m(),C("span",{key:1,onClick:t[2]||(t[2]=d=>e.value=!e.value)},T(a.name),1)):(m(),A(c,{key:0,to:a.path||""},{default:f(()=>[W(T(a.name),1)]),_:2},1032,["to"]))],64))]))),128))]),e.value?(m(),A(ue,{key:0,flag:e.value,onClose:t[3]||(t[3]=a=>e.value=!e.value),width:"450px"},{default:f(()=>[p(Oo)]),_:1},8,["flag"])):R("",!0)],64)}}});const Io=V(Ro,[["__scopeId","data-v-c979fcdf"]]),Ce=n=>(J("data-v-cca52554"),n=n(),X(),n),Lo=Ce(()=>r("h2",null,"\u6709\u95EE\u9898\u8BF7\u52A0\u5FAE\u4FE1\u53CD\u9988\uFF0C\u8C22\u8C22\u914D\u5408\uFF01",-1)),jo=Ce(()=>r("img",{width:"400",src:ro,alt:"\u6211\u7684\u5FAE\u4FE1"},null,-1)),Uo=O({__name:"renderDrawer",props:{flag:{type:Boolean}},emits:["update:flag"],setup(n,{emit:e}){const o=n,t=me({get(){return o.flag},set(u){e("update:flag",u)}});return(u,l)=>{const i=je;return m(),A(i,{modelValue:s(t),"onUpdate:modelValue":l[0]||(l[0]=c=>M(t)?t.value=c:null),size:"400","with-header":!1,"close-on-press-escape":""},{default:f(()=>[Lo,jo]),_:1},8,["modelValue"])}}});const Ho=V(Uo,[["__scopeId","data-v-cca52554"]]),qo=""+new URL("wechat.d1899eda.jpg",import.meta.url).href,zo=""+new URL("alipay.5a066ea1.jpg",import.meta.url).href,G=n=>(J("data-v-b64730aa"),n=n(),X(),n),Wo=G(()=>r("i",{class:"iconfont icon-moneybagfill"},null,-1)),Ko=G(()=>r("h5",null,"PS\uFF1A\u8BE5\u9879\u76EE\u4F5C\u4E3A\u514D\u8D39\u7684\u5F00\u6E90\u9879\u76EE\u4F7F\u7528\uFF0C\u5982\u679C\u4F60\u6709\u597D\u7684\u60F3\u6CD5\u6B22\u8FCE\u52A0\u5165\u5230\u9879\u76EE\u4E2D",-1)),Go=G(()=>r("h5",null,[W(" \u5982\u679C\u4F60\u89C9\u5F97\u5BF9\u4F60\u6709\u5E2E\u52A9\uFF0C\u53EF\u4EE5\u8BF7\u4F5C\u8005\u559D\u676F\u5976\u8336\uFF0C\u975E\u5E38\u611F\u8C22 "),r("i",{class:"iconfont icon-emoji"})],-1)),Yo=G(()=>r("div",{class:"reward-item wechat"},[r("img",{src:qo,alt:"\u5FAE\u4FE1\u6536\u6B3E\u7801"}),r("h4",null,"\u5FAE\u4FE1\u6536\u6B3E\u7801")],-1)),Qo=G(()=>r("div",{class:"reward-item alipay"},[r("img",{src:zo,alt:"\u652F\u4ED8\u5B9D\u6536\u6B3E\u7801"}),r("h4",null,"\u652F\u4ED8\u5B9D\u6536\u6B3E\u7801")],-1)),Jo=O({__name:"reward",setup(n){const e=h(!1);function o(){e.value=!e.value}return(t,u)=>(m(),C(b,null,[r("button",{class:"reward btn",onClick:o},[Wo,W("\u6253\u8D4F")]),e.value?(m(),A(ue,{key:0,flag:e.value,onClose:o},{default:f(()=>[Ko,Go,Yo,Qo]),_:1},8,["flag"])):R("",!0)],64))}});const Xo=V(Jo,[["__scopeId","data-v-b64730aa"]]),Zo=n=>(J("data-v-40b71655"),n=n(),X(),n),en={id:"header"},on=Zo(()=>r("label",{for:"resume-name-input"},"\u7B80\u5386\u540D\u79F0\uFF1A",-1)),nn={class:"operator"},tn=O({__name:"header",emits:["download-dynamic","download-native","download-md","import-md"],setup(n,{emit:e}){const o=h(""),t=h(!1),u=c=>{document.title=o.value,e(`download-${c}`,o.value)},l=c=>{var a;e("import-md",(a=c==null?void 0:c.target)==null?void 0:a.files[0])},i=function(){window.open("https://github.com/acmenlei/markdown-resume-to-pdf")};return S(()=>o.value=document.title),(c,a)=>{const F=de;return m(),C(b,null,[r("div",en,[p(F,{content:"\u8FD4\u56DE\u4E0A\u4E00\u9875"},{default:f(()=>[r("i",{class:"iconfont icon-back mr-20 font-20 pointer hover",onClick:a[0]||(a[0]=d=>c.$router.back())})]),_:1}),on,Ze(r("input",{id:"resume-name-input",type:"text","onUpdate:modelValue":a[1]||(a[1]=d=>o.value=d)},null,512),[[eo,o.value]]),p(Io,{onExportMd:a[2]||(a[2]=d=>u("md")),onImportMd:l}),p(Xo),r("button",{class:"exportor",onClick:a[3]||(a[3]=d=>u("dynamic"))},"\u52A8\u6001\u5BFC\u51FAPDF"),r("button",{class:"exportor",onClick:a[4]||(a[4]=d=>u("native"))},"\u6253\u5370\u673A\u5BFC\u51FAPDF"),r("div",nn,[p(F,{content:"\u7ED9\u9879\u76EE\u8D21\u732E\u4EE3\u7801",placement:"bottom-end"},{default:f(()=>[r("i",{class:"iconfont icon-github github font-25",onClick:i})]),_:1}),p(F,{content:"\u95EE\u9898\u53CD\u9988",placement:"bottom-end"},{default:f(()=>[r("i",{class:"iconfont icon-problem problem font-25",onClick:a[5]||(a[5]=()=>t.value=!t.value)})]),_:1}),p(lo)])]),t.value?(m(),A(Ho,{key:0,flag:t.value},null,8,["flag"])):R("",!0)],64)}}});const un=V(tn,[["__scopeId","data-v-40b71655"]]),an={class:"dialog-footer"},ln=O({__name:"renderDialog",props:{flag:{type:Boolean},footer:{type:Boolean,default:!0},title:{default:"\u6E29\u99A8\u63D0\u793A"},confirmText:{default:"\u63D0\u4EA4"},resetText:{default:"\u91CD\u7F6E"},width:{default:"30%"}},emits:["cancel","confirm","update:flag"],setup(n,{emit:e}){const o=n,t=me({get(){return o.flag},set(u){e("update:flag",u)}});return(u,l)=>{const i=Ue;return m(),A(i,{modelValue:s(t),"onUpdate:modelValue":l[2]||(l[2]=c=>M(t)?t.value=c:null),title:n.title,style:K({width:n.width}),"align-center":"","destroy-on-close":""},oo({default:f(()=>[no(u.$slots,"default")]),_:2},[n.footer?{name:"footer",fn:f(()=>[r("span",an,[r("button",{class:"primary mr-20 btn",onClick:l[0]||(l[0]=c=>u.$emit("confirm"))},T(n.confirmText),1),r("button",{class:"primary btn",onClick:l[1]||(l[1]=c=>u.$emit("cancel"))},T(n.resetText),1)])]),key:"0"}:void 0]),1032,["modelValue","title","style"])}}}),sn={0:"0%",10:"10%",20:"20%",30:"30%",40:"40%",50:"50%",60:"60%",70:"70%",80:"80%",90:"90%",100:"100%"},B=_e,j=pe,he="custom-css-style",Ee="custom-markdown-primary-color",ye="custom_markdown_primary_bg_color",we="markdown-font",De="auto-one-page",Ae="ADJUST_RESUME_MARGIN_TOP",Y=1123,q=h(80);function cn(n){q.value=n}function rn(n){function e(o){const t=o.target.files[0],u=URL.createObjectURL(t);n("upload-avatar",u)}return{setAvatar:e}}function dn(n){const e=h(!1),o=he+"-"+n,t=h(B(o)?B(o):"");function u(){e.value=!e.value}function l(){var d;e.value=!1;let c=k(o);const a=t.value.trim(),F=c;!t.value||(c||(c=I(),c.setAttribute(o,"true")),c.textContent=a,!F&&((d=document.head)==null||d.appendChild(c)),j(o,a))}function i(){e.value=!1,Fe(o),io(o),t.value=""}return S(()=>!k(o)&&setTimeout(l,50)),{cssDialog:e,cssText:t,toggleDialog:u,setStyle:l,removeStyle:i}}function mn(n){const e=ye+"-"+n,o=Fo(n),t=h(B(e)?B(e):o);function u(l){l||(t.value=o,l=o);let i=k(e);const c=i;i||(i=I(),i.setAttribute(e,"true")),i.textContent=`:root { --markdown-primary-bg-color: ${l}; }`,!c&&document.head.appendChild(i),j(e,l)}return S(()=>!k(e)&&u(t.value)),{primaryColor:t,setPrimaryColor:u}}function _n(n){const e=Ee+"-"+n,o=Co(n),t=h(B(e)?B(e):o);function u(l){l||(t.value=o,l=o);let i=k(e);const c=i;i||(i=I(),i.setAttribute(e,"true")),i.textContent=`:root { --markdown-primary-color: ${l} }`,!c&&document.head.appendChild(i),j(e,l)}return S(()=>!k(e)&&u(t.value)),{color:t,setColor:u}}function pn(n){const e=we+"-"+n,o=[{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Menlo-Regular",label:"Menlo-Regular"},{value:"\u4ED3\u8033\u6E14\u9633\u4F53 W02",label:"\u4ED3\u8033\u6E14\u9633\u4F53 W02"}],t=h(B(e)?B(e):"Helvetica Neue");function u(l){let i=k(e);const c=i;i||(i=I(),i.setAttribute(e,"true")),i.textContent=`.jufe { font-family: ${l}; }`,!c&&document.head.appendChild(i),j(e,l)}return S(()=>u(t.value)),{fontOptions:o,font:t,setFont:u}}function Q(n){let e=0,o=0;const t=n.clientHeight,u=document.querySelector(".re-render");for(u.innerHTML="";t-o>1;){const l=ce(),i=n.cloneNode(!0);l.classList.add("jufe-wrapper-page");const c=Math.min(t-o,Y),a=ce();a.classList.add("jufe-wrapper-page-item"),a.style.height=c+"px",i.style.position="absolute",i.style.top=-e*Y+"px",i.style.left=0+"px",a.appendChild(i),l.appendChild(a),o+=Y,e++,u==null||u.appendChild(l)}}function fn(n){const e=De+"-"+n,o=h(B(e));async function t(){const u=document.querySelector(".reference-dom");if(o.value){const l=Y-(u==null?void 0:u.clientHeight);if(l<0&&l<-200){ne("\u4F60\u7684\u5185\u5BB9\u6709\u70B9\u592A\u591A\u5566\uFF01\u538B\u7F29\u6210\u4E00\u9875\u7684\u8BDD\u4E0D\u592A\u7F8E\u89C2\u54E6\uFF5E");return}if(l>0&&l>500){ne("\u4F60\u7684\u5185\u5BB9\u6709\u70B9\u592A\u5C11\u4E86\uFF01\u538B\u7F29\u6210\u4E00\u9875\u7684\u8BDD\u4E0D\u592A\u7F8E\u89C2\u54E6\uFF0C\u518D\u586B\u5199\u4E00\u70B9\u5185\u5BB9\u5427\uFF5E");return}const{differenceConfig:i,map:c}=gn(u);vn(i,l,c,e)}else Fe(e);j(e,o.value),Q(u)}return S(()=>!k(e)&&setTimeout(t,50)),{autoOnePage:o,setAutoOnePage:t}}function gn(n){const e=Array.from(n.querySelectorAll("h1,h2,h3,h4,h5,h6,li,p")),o=[],t=new Set,u=new Map;for(const l of e){const i=l.tagName.toLowerCase();if(u.set(i,(u.get(i)||0)+1),t.has(i))continue;t.add(i);const c=+getComputedStyle(l,null).marginTop.slice(0,-2),a={...mo[i],top:c,tag:i},F=a.top/a.max;a.optimal=F,o.push(a)}return{differenceConfig:o,map:u}}function vn(n,e,o,t){const u=new _o((a,F)=>e<0?a.optimal>F.optimal:a.optimal<F.optimal);for(const a of n)u.push(a);if(e<0)for(;e++<20;){const a=u.pop();a.top=a.top-1/(o.get(a.tag)||1),a.optimal=a.top/a.max,u.push(a)}else for(;e-- >20;){const a=u.pop();a.top=a.top+1/(o.get(a.tag)||1),a.optimal=a.top/a.max,u.push(a)}const l=I(),i=".jufe ";let c="";l.setAttribute(t,"true");for(const a of u.container)c+=`${i}${a.tag} { margin-top: ${a.top}px!important; }`;l.textContent=c,document.head.appendChild(l)}function Fn(n){localStorage.removeItem(`${he}-${n}`),localStorage.removeItem(`${Ee}-${n}`),localStorage.removeItem(`${ye}-${n}`),localStorage.removeItem(`${we}-${n}`),localStorage.removeItem(`${De}-${n}`),localStorage.removeItem(`${Ae}-${n}`),localStorage.removeItem(`markdown-content-${n}`),location.reload()}function Cn(n){const e=h(!1),o=to([]),t=Ae+"-"+n;function u(d){const v=[],E=new Set,w=new Set;function x($){if($!==d){const y=window.getComputedStyle($),D=parseInt(y.marginTop),N=$.tagName.toLowerCase(),L=$.className.split(" ")[0]||"",ee=l(L||N);(!E.has(N)||!w.has(L))&&(v.push({tagName:N,name:ee,marginTop:D,className:L}),E.add(N),w.add(L))}const P=$.children;for(let y=0;y<P.length;y++){const D=P[y];x(D)}}return x(d),v}function l(d){switch(d){case"h1":return"\u4E00\u7EA7\u6807\u9898";case"h2":return"\u4E8C\u7EA7\u6807\u9898";case"h3":return"\u4E09\u7EA7\u6807\u9898";case"h4":return"\u56DB\u7EA7\u6807\u9898";case"h5":return"\u4E94\u7EA7\u6807\u9898";case"h6":return"\u516D\u7EA7\u6807\u9898";case"strong":return"\u5F3A\u8C03/\u52A0\u7C97";case"a":return"\u94FE\u63A5";case"p":return"\u666E\u901A\u6587\u672C";case"li":return"\u5217\u8868\u9879";case"ul":return"\u65E0\u5E8F\u5217\u8868";case"ol":return"\u6709\u5E8F\u5217\u8868";case"single-code":return"\u4EE3\u7801\u6846";case"head-layout":return"\u4E2A\u4EBA\u4FE1\u606F\u680F";case"flex-layout":return"\u591A\u5217\u5E03\u5C40";case"flex-layout-item":return"\u591A\u5217\u5E03\u5C40\u9879";case"iconfont":return"\u5B57\u4F53\u56FE\u6807";case"img":return"\u8BC1\u4EF6\u7167/\u56FE\u7247";case"table":return"\u8868\u683C";case"thead":return"\u8868\u5934";case"tr":return"\u8868\u884C";case"th":return"\u8868\u5934\u5355\u5143\u683C";case"tbody":return"\u8868\u683C\u4E3B\u4F53";case"td":return"\u8868\u683C\u6570\u636E\u5355\u5143\u683C"}return d}function i(){a();const d=document.querySelector(".jufe");console.log(d);const v=u(d);o.length=0,console.log(o),o.push(...v)}function c(){a();let d=k(t),v="";const E=d;d||(d=I(),d.setAttribute(t,"true"));for(const w of o){const x=w.className?`.${w.className}`:w.tagName;v+=`.jufe ${x} {margin-top: ${w.marginTop}px!important; }`}d.textContent=v,!E&&document.head.appendChild(d),j(t,v),Q(document.querySelector(".reference-dom"))}function a(){e.value=!e.value}function F(){const d=B(t)||"";if(!d)return;let v=k(t);const E=v;v||(v=I(),v.setAttribute(t,"true")),v.textContent=d,!E&&document.head.appendChild(v)}return S(()=>!k(t)&&F()),{adjustMargin:i,visiable:e,confirmAdjustment:c,marginData:o}}const U=n=>(J("data-v-c29eb680"),n=n(),X(),n),hn={class:"operator"},En={class:"operator-level2"},yn=U(()=>r("label",{for:"upload-avatar",class:"operator-item card"},[r("i",{class:"iconfont icon-zhengjian"})],-1)),wn=U(()=>r("i",{class:"operator-item iconfont icon-refresh ml-20"},null,-1)),Dn=U(()=>r("br",null,null,-1)),An=U(()=>r("h4",null,"\u8C03\u8282\u7B80\u5386\u5185\u5BB9\u7684\u4E0A\u8FB9\u8DDD\uFF08\u5355\u4F4Dpx\uFF09",-1)),bn={class:"margin-container flex"},kn=U(()=>r("br",null,null,-1)),$n=U(()=>r("h5",{style:{color:"var(--theme)"}},"PS: \u53EA\u663E\u793A\u7B80\u5386\u6A21\u677F\u4E2D\u5DF2\u7ECF\u4F7F\u7528\u7684",-1)),Bn=O({__name:"tabbar",props:{resumeProps:null},emits:["upload-avatar","open-write","html-convert"],setup(n,{emit:e}){const o=n,{autoOnePage:t,setAutoOnePage:u}=fn(o.resumeProps.resumeType),{cssDialog:l,cssText:i,toggleDialog:c,setStyle:a,removeStyle:F}=dn(o.resumeProps.resumeType),{color:d,setColor:v}=_n(o.resumeProps.resumeType),{fontOptions:E,font:w,setFont:x}=pn(o.resumeProps.resumeType),{setAvatar:$}=rn(e),{primaryColor:P,setPrimaryColor:y}=mn(o.resumeProps.resumeType),{adjustMargin:D,visiable:N,confirmAdjustment:L,marginData:ee}=Cn(o.resumeProps.resumeType),{isDark:be}=fe();return(ke,g)=>{const $e=He,H=de,ae=qe,Be=ze,Se=We,xe=Ke,Me=Ge,Te=Ye,Oe=Qe;return m(),C(b,null,[r("div",hn,[p($e,{size:"small",class:"slider",marks:s(sn),modelValue:s(q),"onUpdate:modelValue":g[0]||(g[0]=_=>M(q)?q.value=_:null),onChange:s(cn),step:10,"show-stops":""},null,8,["marks","modelValue","onChange"]),r("div",En,[p(H,{content:"\u8C03\u6574\u5143\u7D20\u8FB9\u8DDD",effect:"light"},{default:f(()=>[r("i",{class:"iconfont icon-adjust operator-item",onClick:g[1]||(g[1]=(..._)=>s(D)&&s(D)(..._))})]),_:1}),p(H,{content:"\u4E0A\u4F20\u524D\u8BF7\u786E\u4FDD\u4F60\u60F3\u4E0A\u4F20\u7684\u4F4D\u7F6E\u5728\u7F16\u8F91\u5668\u4E2D\u5B58\u5728 ![\u4E2A\u4EBA\u5934\u50CF](...) \u6B64\u5360\u4F4D\u7B26",effect:"light"},{default:f(()=>[yn]),_:1}),r("input",{type:"file",id:"upload-avatar",accept:".png,.jpg,.jpeg",onChange:g[2]||(g[2]=(..._)=>s($)&&s($)(..._))},null,32),p(H,{content:"\u7F16\u5199CSS",effect:"light"},{default:f(()=>[r("i",{class:"operator-item iconfont icon-diy",onClick:g[3]||(g[3]=(..._)=>s(c)&&s(c)(..._))})]),_:1}),p(ae,{class:"operator-item",onChange:s(v),size:"small",modelValue:s(d),"onUpdate:modelValue":g[4]||(g[4]=_=>M(d)?d.value=_:null)},null,8,["onChange","modelValue"]),W(" \xA0\xA0 \xA0 "),p(ae,{class:"operator-item",onChange:s(y),size:"small",modelValue:s(P),"onUpdate:modelValue":g[5]||(g[5]=_=>M(P)?P.value=_:null)},null,8,["onChange","modelValue"]),p(Be,{width:"240","confirm-button-text":"\u662F\u7684","cancel-button-text":"\u70B9\u9519\u4E86",title:"\u4F60\u60F3\u91CD\u7F6E\u7B80\u5386\u7684\u6240\u6709\u5185\u5BB9\u5417\uFF1F",onConfirm:g[6]||(g[6]=_=>s(Fn)(n.resumeProps.resumeType))},{reference:f(()=>[wn]),_:1}),p(H,{content:"\u5207\u6362\u7F16\u8F91\u6A21\u5F0F",effect:"light"},{default:f(()=>[r("i",{class:"iconfont icon-write operator-item",onClick:g[7]||(g[7]=_=>ke.$emit("open-write"))})]),_:1}),p(H,{content:"\u81EA\u52A8\u4E00\u9875",effect:"light"},{default:f(()=>[p(Se,{class:"operator-item",size:"small",onChange:s(u),modelValue:s(t),"onUpdate:modelValue":g[8]||(g[8]=_=>M(t)?t.value=_:null)},null,8,["onChange","modelValue"])]),_:1}),p(Me,{modelValue:s(w),"onUpdate:modelValue":g[9]||(g[9]=_=>M(w)?w.value=_:null),class:"operator-item",onChange:s(x),placement:"bottom",size:"small"},{default:f(()=>[(m(!0),C(b,null,z(s(E),_=>(m(),A(xe,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),Dn]),s(l)?(m(),A(ln,{key:0,"confirm-text":"\u8BBE\u7F6E\u6837\u5F0F","reset-text":"\u91CD\u7F6E\u6837\u5F0F",title:"\u5728\u8FD9\u91CC\u7F16\u5199CSS\u6837\u5F0F\uFF0C\u8BA9\u5B83\u4F5C\u7528\u5728\u7B80\u5386\u4E0A\uFF01",flag:s(l),onConfirm:s(a),onCancel:s(F)},{default:f(()=>[p(s(ge),{modelValue:s(i),"onUpdate:modelValue":g[10]||(g[10]=_=>M(i)?i.value=_:null),autofocus:!0,style:{height:"500px"},"indent-with-tab":!0,extensions:s(be)?[s(ie),s(ve)]:[s(ie)],placeholder:"\u683C\u5F0F\u5982.jufe h2 { color: red; }"},null,8,["modelValue","extensions"])]),_:1},8,["flag","onConfirm","onCancel"])):R("",!0),s(N)?(m(),A(ue,{key:1,flag:s(N),onClose:s(L),width:"400px"},{default:f(()=>[An,r("div",bn,[(m(!0),C(b,null,z(s(ee),(_,Ve)=>(m(),C("div",{class:"margin-item",key:Ve},[p(Oe,null,{default:f(()=>[r("span",null,T(_.name)+" ("+T(_.className||_.tagName)+")",1),p(Te,{size:"small",modelValue:_.marginTop,"onUpdate:modelValue":Pe=>_.marginTop=Pe},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]),kn,$n]),_:1},8,["flag","onClose"])):R("",!0)],64)}}});const Sn=V(Bn,[["__scopeId","data-v-c29eb680"]]),xn="markdown-content",re=_e;function Mn(n){const e=h(document.body);return S(()=>{fo(n.resumeType),e.value.innerHTML=te(n.content),setTimeout(()=>Q(e.value),100)}),le(()=>n.content,o=>{e.value.innerHTML=te(o),setTimeout(()=>Q(e.value),50)}),le(()=>n.resumeType,()=>{location.reload()}),{renderDOM:e}}function Tn(n){const e=xn+"-"+n.value,o=h(re(e)?re(e):po(n.value));function t(u){!u||(o.value=u,pe(e,o.value))}return{content:o,setContent:t}}function On(){const n=ho(),e=h(n.query.type?String(n.query.type):"front_end");return S(()=>{e.value=n.query.type?String(n.query.type):"front_end"}),{resumeType:e}}function Vn(n,e){const o=Eo();return{downloadMD:()=>{const i=new Blob([e.value]),c=URL.createObjectURL(i),a=document.createElement("a");a.download=document.title+".md",a.href=c,a.click(),URL.revokeObjectURL(c),Z("\u5BFC\u51FA\u6210\u529F~")},downloadDynamic:i=>{go(i,document.querySelector(".jufe"))},downloadNative:()=>{localStorage.setItem("download",JSON.stringify(te(e.value))),o.push({path:"/download",query:{type:n.value}})}}}function Pn(n){function e(o){const t=new FileReader;t.readAsText(o,"utf-8"),t.onload=function(u){var l;Z("\u5BFC\u5165\u6210\u529F~"),n(((l=u.target)==null?void 0:l.result)||"")},t.onerror=function(){co("\u5BFC\u5165\u5931\u8D25!")}}return{importMD:e}}function Nn(){const n=h(500);let e=!1;function o(l){!e||(n.value=l.clientX)}function t(){e=!0}function u(){e=!1}return S(()=>{window.addEventListener("mouseup",u),window.addEventListener("mousemove",o)}),uo(()=>{window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",o)}),{left:n,move:o,down:t}}function Rn(n,e){const o=/!\[个人头像\]\(.*\)/;function t(u){if(!o.test(n.value)){ne("\u4E0A\u4F20\u524D\u8BF7\u786E\u4FDD\u4F60\u60F3\u4E0A\u4F20\u7684\u4F4D\u7F6E\u5728\u7F16\u8F91\u5668\u4E2D\u5B58\u5728 ![\u4E2A\u4EBA\u5934\u50CF](...) \u6B64\u5173\u952E\u5B57");return}const l=n.value.replace(o,`![\u4E2A\u4EBA\u5934\u50CF](${u})`);e(l),Z("\u5934\u50CF\u4E0A\u4F20\u6210\u529F\uFF0C\u5982\u679C\u4F60\u60F3\u4FEE\u6539\u4E3A\u7F51\u7EDC\u56FE\u7247\uFF0C\u4F60\u53EF\u76F4\u63A5\u4FEE\u6539\u5BF9\u5E94\u7684\u94FE\u63A5\uFF01")}return{setAvatar:t}}function In(n){const e=h(!1),o=h();function t(l){e.value=!e.value,so("\u60A8\u5DF2\u5207\u6362\u81F3",e.value?"\u5185\u5BB9\u6A21\u5F0F":"Markdown\u6A21\u5F0F"),e.value&&ao(()=>{o.value.innerHTML=l.innerHTML})}function u(){const l=vo({node:o.value,latest:!0,uid:0});n(l)}return{writable:e,DOMTree:o,startWrite:t,ObserverContent:u}}const Ln=O({__name:"render",props:{content:null,resumeType:null},emits:["upload-avatar","html-convert","open-write"],setup(n){const e=n,{renderDOM:o}=Mn(e),t=yo();return(u,l)=>(m(),C("div",{class:"outer",style:K({background:s(t)?"#282c34":"var(--bg-theme)"})},[p(Sn,{onOpenWrite:l[0]||(l[0]=i=>u.$emit("open-write",s(o))),onHtmlConvert:l[1]||(l[1]=i=>u.$emit("html-convert",i)),onUploadAvatar:l[2]||(l[2]=i=>u.$emit("upload-avatar",i)),resumeProps:e},null,8,["resumeProps"]),r("div",{ref_key:"renderDOM",ref:o,class:"markdown-transform-html jufe reference-dom"},null,512),r("div",{class:"re-render",style:K({transform:`scale(${s(q)/100})`})},null,4)],4))}});const jn=V(Ln,[["__scopeId","data-v-e0bb6aea"]]),Un={id:"root"},Hn={class:"markdown-edit"},qn=["contenteditable"],zn=O({__name:"editor",setup(n){const{resumeType:e}=On(),{content:o,setContent:t}=Tn(e),{downloadDynamic:u,downloadNative:l,downloadMD:i}=Vn(e,o),{importMD:c}=Pn(t),{setAvatar:a}=Rn(o,t),{left:F,down:d}=Nn(),{startWrite:v,writable:E,DOMTree:w,ObserverContent:x}=In(t),{isDark:$}=fe();return(P,y)=>(m(),C(b,null,[p(un,{onDownloadDynamic:s(u),onDownloadNative:s(l),onDownloadMd:s(i),onImportMd:s(c)},null,8,["onDownloadDynamic","onDownloadNative","onDownloadMd","onImportMd"]),r("div",Un,[r("div",Hn,[s(E)?R("",!0):(m(),A(s(ge),{key:0,modelValue:s(o),"onUpdate:modelValue":y[0]||(y[0]=D=>M(o)?o.value=D:null),style:K({height:"100vh",width:`${s(F)}px`,background:"#fff"}),autofocus:!0,"indent-with-tab":!0,extensions:s($)?[s(se),s(ve)]:[s(se)],onChange:s(t)},null,8,["modelValue","style","extensions","onChange"])),s(E)?(m(),C("div",{key:1,ref_key:"DOMTree",ref:w,onInput:y[1]||(y[1]=(...D)=>s(x)&&s(x)(...D)),class:"markdown-transform-html writable-edit-mode",contenteditable:s(E),style:K({height:"100vh",width:`${s(F)}px`,background:"#fff",overflowY:"scroll"})},null,44,qn)):R("",!0),r("div",{class:"move absolute",onMousedown:y[2]||(y[2]=(...D)=>s(d)&&s(d)(...D))},null,32)]),p(jn,{class:"markdown-render",resumeType:s(e),content:s(o),onOpenWrite:s(v),onUploadAvatar:s(a),onHtmlConvert:s(t)},null,8,["resumeType","content","onOpenWrite","onUploadAvatar","onHtmlConvert"])])],64))}});const wt=V(zn,[["__scopeId","data-v-40664571"]]);export{wt as default};
