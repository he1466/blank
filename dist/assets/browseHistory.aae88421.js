import{f as D,u as E,a as H,g as A,e as L,E as $}from"./index.24ca6f8e.js";import{C as m,o as n,c,a as t,U as e,T as d,au as p,av as I,L as R,u as r,V as T,r as k,as as N,f as U,M as C,a6 as b,J as F,Q as B}from"./@vue.f13b1cd7.js";import{_ as y}from"./vue-markdown-menu-bar.c0aaf2d4.js";import{u as w}from"./vue-router.dfb22bb7.js";import{a as V}from"./community.416fdbf5.js";const v=s=>(p("data-v-21a8259d"),s=s(),I(),s),O={class:"user-tooltip flex content-card"},q={class:"head flex"},M=["src"],W={class:"nick-name"},Y=v(()=>t("strong",null,"\u6027\u522B\uFF1A",-1)),z=v(()=>t("strong",null,"\u9662\u6821\uFF1A",-1)),J=v(()=>t("strong",null,"\u6C42\u804C\u610F\u5411\uFF1A",-1)),Q=v(()=>t("strong",null,"\u6240\u5728\u5730\u533A\uFF1A",-1)),j=m({__name:"userTooltip",props:{userInfo:null},setup(s){return(i,l)=>(n(),c("div",O,[t("div",q,[t("img",{class:"mr-10",src:s.userInfo.avatar,alt:"\u5934\u50CF"},null,8,M),t("strong",W,e(s.userInfo.nickName),1)]),t("p",null,[Y,d(" "+e(s.userInfo.sex)+"\u751F ",1)]),t("p",null,[z,t("span",null,e(s.userInfo.school)+" -",1),t("span",null,e(s.userInfo.graduation)+"\u5C4A",1)]),t("p",null,[J,d(" "+e(s.userInfo.professional),1)]),t("p",null,[Q,d(" "+e(s.userInfo.origin),1)])]))}});const G=y(j,[["__scopeId","data-v-21a8259d"]]),K=s=>(p("data-v-463783b2"),s=s(),I(),s),P={class:"user-head"},X=["src"],Z={class:"user-info"},ss={class:"user-name"},ts={class:"date-school"},es={key:0,class:"datetime mr-20"},os={class:"school"},ns=K(()=>t("i",{class:"iconfont icon-school"},null,-1)),as=m({__name:"userInfo",props:{userInfo:null,publishTime:null},setup(s){return(i,l)=>{var _,a,o,u;return n(),c("div",P,[t("img",{class:"pointer mr-10",src:(_=s.userInfo)==null?void 0:_.avatar},null,8,X),R(G,{class:"user-tooltip",userInfo:s.userInfo},null,8,["userInfo"]),t("div",Z,[t("span",ss,e((a=s.userInfo)==null?void 0:a.nickName),1),t("div",ts,[s.publishTime?(n(),c("span",es,e(r(D)(s.publishTime))+"\u53D1\u5E03",1)):T("",!0),t("span",os,[ns,d(" "+e((o=s.userInfo)==null?void 0:o.school)+" - "+e((u=s.userInfo)==null?void 0:u.graduation)+"\u5C4A ",1)])])])])}}});const bs=y(as,[["__scopeId","data-v-463783b2"]]);function Bs(){const{loginState:s}=E();return s.logined}function us(){const s="__BROWSE_HISTORY__",l=k([]),_=w();function a(f){const h=o();h.length>=10&&h.pop(),h.unshift(f),H(s,h,60*60*1e3*24*365)}function o(){return A(s)||[]}function u(f){l.value=f}function g(f){_.push(`/community/detail?articleId=${f}`)}return N(()=>{u(o()||[])}),{data:l,useDetail:g,setBrowseHistory:a,getBrowseHistory:o}}function S(s){return s>=1e3?(s/1e3).toFixed(1)+"k":s}function cs(){const s=k([]),i=w();async function l(){const a=await V({requireCount:10});if(a.code===200){s.value=a.data;return}L(a.msg)}function _(a){i.push(`/community/detail?articleId=${a}`)}return U(()=>l()),{useDetail:_,hotList:s}}const is=s=>(p("data-v-bbe0375f"),s=s(),I(),s),ls={class:"hot-list content-card"},rs=is(()=>t("p",{class:"hot-title slide-title"},"\u70ED\u95E8\u9762\u7ECF",-1)),_s={key:0,class:"list-style-init"},ds=["onClick"],fs=m({__name:"hotList",setup(s){const{hotList:i,useDetail:l}=cs();return(_,a)=>(n(),c("div",ls,[rs,r(i).length?(n(),c("ul",_s,[(n(!0),c(C,null,b(r(i),(o,u)=>(n(),c("li",{key:u,class:"line-2",onClick:g=>r(l)(o.articleId)},[t("span",{class:F(["rank",{topRank:u<3}])},e(u+1),3),d(" "+e(o.title)+" ",1),t("i",{class:F(["iconfont icon-hot font-20",{topRank:u<3}])},null,2),t("span",{class:F({topRank:u<3})},e(r(S)(o.hot)),3)],8,ds))),128))])):(n(),B($,{key:1,title:"\u8FD8\u6CA1\u6709\u9762\u7ECF\uFF0C\u5FEB\u53BB\u62A2\u6C99\u53D1\u5427."}))]))}});const ws=y(fs,[["__scopeId","data-v-bbe0375f"]]),x=s=>(p("data-v-78b27937"),s=s(),I(),s),hs={class:"browse-history-list mt-20 content-card"},ms=x(()=>t("p",{class:"browse-history-title slide-title"},"\u6D4F\u89C8\u5386\u53F2",-1)),ps={key:0,class:"list-style-init history-list"},Is=["onClick"],ys=x(()=>t("i",{class:"iconfont icon-browse font-20"},null,-1)),vs=m({__name:"browseHistory",setup(s){const{data:i,useDetail:l}=us();return(_,a)=>(n(),c("div",hs,[ms,r(i).length?(n(),c("ul",ps,[(n(!0),c(C,null,b(r(i),(o,u)=>(n(),c("li",{key:u,class:"line-2",onClick:g=>r(l)(o.articleId)},[d(e(o.title)+" ",1),t("span",null,[ys,d(" "+e(r(S)(o.hot)),1)])],8,Is))),128))])):(n(),B($,{key:1,title:"\u4F60\u8FD8\u6CA1\u6D4F\u89C8\u8FC7\u4EFB\u4F55\u6587\u7AE0"}))]))}});const Ss=y(vs,[["__scopeId","data-v-78b27937"]]);export{Ss as B,ws as H,bs as U,G as a,Bs as i,S as n,us as u};
