import{_ as p,f as C,d as L,g as T,e as N,E as k}from"./index-242f51d6.js";import{E as m,o as n,c as i,a as s,W as e,V as d,au as I,av as y,P as D,u,X as E,r as w,aw as V,b as F,F as S,a7 as b,M as g,S as x}from"./@vue-c8b849dd.js";import{u as H}from"./vue-router-059fda26.js";import{b as O}from"./community-7138e1b3.js";const v=t=>(I("data-v-21a8259d"),t=t(),y(),t),q={class:"user-tooltip flex content-card"},M={class:"head flex"},U=["src"],W={class:"nick-name"},Y=v(()=>s("strong",null,"性别：",-1)),z=v(()=>s("strong",null,"院校：",-1)),A=v(()=>s("strong",null,"求职意向：",-1)),P=v(()=>s("strong",null,"所在地区：",-1)),X=m({__name:"userTooltip",props:{userInfo:null},setup(t){return(l,r)=>(n(),i("div",q,[s("div",M,[s("img",{class:"mr-10",src:t.userInfo.avatar,alt:"头像"},null,8,U),s("strong",W,e(t.userInfo.nickName),1)]),s("p",null,[Y,d(" "+e(t.userInfo.sex)+"生 ",1)]),s("p",null,[z,s("span",null,e(t.userInfo.school)+" -",1),s("span",null,e(t.userInfo.graduation)+"届",1)]),s("p",null,[A,d(" "+e(t.userInfo.professional),1)]),s("p",null,[P,d(" "+e(t.userInfo.origin),1)])]))}});const j=p(X,[["__scopeId","data-v-21a8259d"]]),G=t=>(I("data-v-1a33f154"),t=t(),y(),t),J={class:"user-head"},K=["src"],Q={class:"user-info"},Z={class:"user-name"},tt={class:"date-school"},st={key:0,class:"datetime mr-20"},et={class:"school"},ot=G(()=>s("i",{class:"iconfont icon-school"},null,-1)),nt=m({__name:"userInfo",props:{userInfo:null,publishTime:null},setup(t){return(l,r)=>{var _,a,o,c;return n(),i("div",J,[s("img",{class:"pointer mr-10",src:(_=t.userInfo)==null?void 0:_.avatar},null,8,K),D(j,{class:"user-tooltip",userInfo:t.userInfo},null,8,["userInfo"]),s("div",Q,[s("span",Z,e((a=t.userInfo)==null?void 0:a.nickName),1),s("div",tt,[t.publishTime?(n(),i("span",st,e(u(C)(t.publishTime))+"发布",1)):E("",!0),s("span",et,[ot,d(" "+e((o=t.userInfo)==null?void 0:o.school)+" - "+e((c=t.userInfo)==null?void 0:c.graduation)+"届 ",1)])])])])}}});const wt=p(nt,[["__scopeId","data-v-1a33f154"]]);function at(){const t="__BROWSE_HISTORY__",r=w([]),_=H();function a(f){const h=o();h.length>=10&&h.pop(),h.unshift(f),L(t,h,60*60*1e3*24*365)}function o(){return T(t)||[]}function c(f){r.value=f}function $(f){_.push(`/community/detail?articleId=${f}`)}return V(()=>{c(o()||[])}),{data:r,useDetail:$,setBrowseHistory:a,getBrowseHistory:o}}function R(t){return t>=1e3?(t/1e3).toFixed(1)+"k":t}function ct(){const t=w([]),l=H();async function r(){const a=await O({requireCount:10});if(a.code===200){t.value=a.data;return}N(a.msg)}function _(a){l.push(`/community/detail?articleId=${a}`)}return F(()=>r()),{useDetail:_,hotList:t}}const it=t=>(I("data-v-46bd230f"),t=t(),y(),t),lt={class:"hot-list content-card"},rt=it(()=>s("p",{class:"hot-title slide-title"},"热门面经",-1)),ut={key:0,class:"list-style-init"},_t=["onClick"],dt=m({__name:"hotList",setup(t){const{hotList:l,useDetail:r}=ct();return(_,a)=>(n(),i("div",lt,[rt,u(l).length?(n(),i("ul",ut,[(n(!0),i(S,null,b(u(l),(o,c)=>(n(),i("li",{key:c,class:"line-2",onClick:$=>u(r)(o.articleId)},[s("span",{class:g(["rank",{topRank:c<3}])},e(c+1),3),d(" "+e(o.title)+" ",1),s("i",{class:g(["iconfont icon-hot font-20",{topRank:c<3}])},null,2),s("span",{class:g({topRank:c<3})},e(u(R)(o.hot)),3)],8,_t))),128))])):(n(),x(k,{key:1,title:"还没有面经，快去抢沙发吧."}))]))}});const St=p(dt,[["__scopeId","data-v-46bd230f"]]),B=t=>(I("data-v-8e2d1706"),t=t(),y(),t),ft={class:"browse-history-list mt-20 content-card"},ht=B(()=>s("p",{class:"browse-history-title slide-title"},"浏览历史",-1)),pt={key:0,class:"list-style-init history-list"},mt=["onClick"],It=B(()=>s("i",{class:"iconfont icon-browse font-20"},null,-1)),yt=m({__name:"browseHistory",setup(t){const{data:l,useDetail:r}=at();return(_,a)=>(n(),i("div",ft,[ht,u(l).length?(n(),i("ul",pt,[(n(!0),i(S,null,b(u(l),(o,c)=>(n(),i("li",{key:c,class:"line-2",onClick:$=>u(r)(o.articleId)},[d(e(o.title)+" ",1),s("span",null,[It,d(" "+e(u(R)(o.hot)),1)])],8,mt))),128))])):(n(),x(k,{key:1,title:"你还没浏览过任何文章"}))]))}});const bt=p(yt,[["__scopeId","data-v-8e2d1706"]]);export{bt as B,St as H,wt as U,R as n,at as u};
