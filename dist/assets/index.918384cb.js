var g=Object.defineProperty;var d=(e,t,o)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var p=(e,t,o)=>(d(e,typeof t!="symbol"?t+"":t,o),o);import{_ as a,E}from"./jspdf.0b42b4d1.js";import{t as y}from"./config.404183d2.js";import{r as P}from"./element-plus.a21bd6a8.js";import T from"./html2canvas.4d0ab5af.js";import{s as D,e as v}from"./index.bfd253a4.js";const w=(e,t)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((n,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})};async function M(e){return(await w(Object.assign({"../../templates/business/style.scss":()=>a(()=>Promise.resolve({}),["./style.95edfe08.css"],import.meta.url),"../../templates/concise/style.scss":()=>a(()=>Promise.resolve({}),["./style.f861cd93.css"],import.meta.url),"../../templates/create/style.scss":()=>a(()=>Promise.resolve({}),["./style.c2f1f552.css"],import.meta.url),"../../templates/fresh/style.scss":()=>a(()=>Promise.resolve({}),["./style.0139a4a1.css"],import.meta.url),"../../templates/front_end/style.scss":()=>a(()=>Promise.resolve({}),["./style.ba19834f.css"],import.meta.url),"../../templates/general/style.scss":()=>a(()=>Promise.resolve({}),["./style.f243b46e.css"],import.meta.url),"../../templates/graduation_reexam/style.scss":()=>a(()=>Promise.resolve({}),["./style.6816843f.css"],import.meta.url),"../../templates/internet/style.scss":()=>a(()=>Promise.resolve({}),["./style.507da3a6.css"],import.meta.url),"../../templates/internet_avatar/style.scss":()=>a(()=>Promise.resolve({}),["./style.4be609ac.css"],import.meta.url),"../../templates/internet_social/style.scss":()=>a(()=>Promise.resolve({}),["./style.6fe30e14.css"],import.meta.url),"../../templates/operation/style.scss":()=>a(()=>Promise.resolve({}),["./style.71590ef2.css"],import.meta.url),"../../templates/operation_avatar/style.scss":()=>a(()=>Promise.resolve({}),["./style.d9f3588f.css"],import.meta.url),"../../templates/simple_avatar/style.scss":()=>a(()=>Promise.resolve({}),["./style.a230f111.css"],import.meta.url)}),`../../templates/${e}/style.scss`)).default}const C=e=>{for(const t of y)if(e===t.type)return t.content;return""},S={h1:{max:30,min:-15,top:0,tag:"",optimal:0},h2:{max:30,min:-15,top:0,tag:"",optimal:0},h3:{max:20,min:-15,top:0,tag:"",optimal:0},h4:{max:20,min:-15,top:0,tag:"",optimal:0},h5:{max:20,min:-15,top:0,tag:"",optimal:0},h6:{max:20,min:-15,top:0,tag:"",optimal:0},li:{max:10,min:-15,top:0,tag:"",optimal:0},p:{max:10,min:-15,top:0,tag:"",optimal:0}},L=(e,t)=>e.optimal>t.optimal,_=(e,t,o)=>[e[t],e[o]]=[e[o],e[t]];class B{constructor(t){p(this,"container",[]);p(this,"cmp",L);this.cmp=t}push(t){const{container:o,cmp:n}=this;o.push(t);let r=o.length-1;for(;r;){const s=Math.floor((r-1)/2);if(!n(o[r],o[s]))return;_(o,r,s),r=s}}pop(){const{container:t,cmp:o}=this;if(!t.length)return null;_(t,0,t.length-1);const n=t.pop(),r=t.length;let s=0,i=s*2+1;for(;i<r;){const l=s*2+2;if(l<r&&o(t[l],t[i])&&(i=l),!o(t[i],t[s]))break;_(t,i,s),s=i,i=s*2+1}return n}top(){return this.container.length?this.container[0]:null}isEmpty(){return this.container.length===0}}function H(){return document.createElement("style")}function k(){return document.createElement("div")}function A(e){return document.head.querySelector(`style[${e}]`)}function q(e){var t;(t=A(e))==null||t.remove()}function G(e,t){const{showLoading:o,closeLoading:n}=I();o("\u6B63\u5728\u5BFC\u51FAPDF \u8BF7\u8010\u5FC3\u7B49\u5F85..."),T(t,{allowTaint:!1,logging:!1,useCORS:!0,scale:4}).then(r=>{var f;const s=new E("p","mm","a4"),i=r.getContext("2d"),l=210,h=297,c=Math.floor(h*r.width/l);let m=0;for(;m<r.height;){const u=document.createElement("canvas");u.width=r.width,u.height=Math.min(c,r.height-m),(f=u.getContext("2d"))==null||f.putImageData(i==null?void 0:i.getImageData(0,m,r.width,Math.min(c,r.height-m)),0,0),s.addImage(u.toDataURL("image/jpeg",1),"JPEG",0,0,l,Math.min(h,l*u.height/u.width)),m+=c,r.height-m>1&&s.addPage()}s.save(`${e}.pdf`),D("PDF\u5BFC\u51FA\u6210\u529F")}).catch(r=>{v("\u5BFC\u51FA\u5931\u8D25, "+r)}).finally(n)}function I(){let e=null;function t(n){e=P.service({lock:!0,text:n,background:"rgba(0, 0, 0, 0.7)"})}function o(){e&&e.close()}return{showLoading:t,closeLoading:o}}function $(e=0){const t=document.documentElement||document.body;let o=Math.abs(t.scrollTop-e)/20,n=0,r=-1;const s=o;function i(){n=t.scrollTop;const l=n-e;r==n||l==0||(r=n,window.requestAnimationFrame(function(){if(o=l>0?s:-s,n-=o,Math.abs(l)<s){t.scrollTop=e;return}t.scrollTop=n,Math.abs(l)>0&&i()}))}i()}function U(e){let t=e==null?void 0:e.offsetTop,o=e==null?void 0:e.offsetParent;for(;o!==null;)t+=o.offsetTop,o=o.offsetParent;return t}export{B as H,H as a,k as b,U as c,G as d,C as g,M as i,S as o,A as q,q as r,$ as s};
